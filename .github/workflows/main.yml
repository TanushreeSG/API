name: Katalon Studio CI

on:
  push:
    branches: [main]
  pull_request:
    branches: [main]

jobs:
  build:
    runs-on: windows-latest
    steps:
    - name: Checkout
      uses: actions/checkout@v2
    - name: Katalon Studio Github Action
      uses: katalon-studio/katalon-studio-github-action@v2
      with:
          version: '8.6.5'
          projectPath: 'C:\Users\Tanushree SG\Desktop\Pi API testing'
          args: '-noSplash -retry=0 -testSuiteCollectionPath="Test Suites/Sample Test Suite" -browserType="TestCloud" -testcloudEnvironmentId="256" -apiKey= ${{ secrets.KATALON_API_KEY }} --config -webui.autoUpdateDrivers=true'
    - name: Execute Katalon Script
      run: |
        "C:\path\to\katalonc.exe" -runMode=console -projectPath="C:\Users\Tanushree SG\Desktop\Pi API testing\Pi API testing.prj" -testSuitePath="Test Suites/chain" -browserType="Web Service" -executionProfile="default" -apiKey="${{ secrets.KATALON_API_KEY }}" --config -proxy.auth.option=NO_PROXY -proxy.system.option=NO_PROXY -proxy.system.applyToDesiredCapabilities=true -webui.autoUpdateDrivers=true
